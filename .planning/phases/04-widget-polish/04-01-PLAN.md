---
phase: 04-widget-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - MrFunnyJokes/JokeOfTheDayWidget/JokeOfTheDayWidgetViews.swift
autonomous: false

must_haves:
  truths:
    - "Small widget displays joke setup with readable text and character branding"
    - "Medium widget displays joke setup with more text visible than small"
    - "Large widget displays joke setup with most text visible"
    - "All widgets render correctly in dark mode"
    - "All widgets render correctly in light mode"
    - "Tapping any widget opens the app"
  artifacts:
    - path: "MrFunnyJokes/JokeOfTheDayWidget/JokeOfTheDayWidgetViews.swift"
      provides: "Polished home screen widget views"
      contains: "padding(8)"
  key_links:
    - from: "SmallWidgetView"
      to: "widgetURL"
      via: "deep link modifier"
      pattern: "widgetURL.*mrfunnyjokes"
    - from: "MediumWidgetView"
      to: "widgetURL"
      via: "deep link modifier"
      pattern: "widgetURL.*mrfunnyjokes"
    - from: "LargeWidgetView"
      to: "widgetURL"
      via: "deep link modifier"
      pattern: "widgetURL.*mrfunnyjokes"
---

<objective>
Polish home screen widget padding and verify on physical device.

Purpose: Ensure widgets match native iOS widget appearance (Weather, Calendar) with appropriate spacing so users see more joke content.
Output: Updated widget views with reduced padding, verified working on physical device.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-widget-polish/04-CONTEXT.md
@.planning/phases/04-widget-polish/04-RESEARCH.md
@MrFunnyJokes/JokeOfTheDayWidget/JokeOfTheDayWidgetViews.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Reduce widget padding to match native iOS widgets</name>
  <files>MrFunnyJokes/JokeOfTheDayWidget/JokeOfTheDayWidgetViews.swift</files>
  <action>
Update padding values in all three home screen widget views to match native iOS widget spacing:

**SmallWidgetView:**
- Change `.padding(12)` to `.padding(8)` - native iOS small widgets use tight margins
- Keep all other styling (font sizes, colors, character branding) unchanged

**MediumWidgetView:**
- Change `.padding(16)` to `.padding(11)` - standard iOS margin for graphics-heavy widgets
- Keep all other styling unchanged

**LargeWidgetView:**
- Change `.padding(16)` to `.padding(11)` - consistent with medium widget
- Keep all other styling unchanged

**Do NOT change:**
- Font sizes (already appropriate per widget size)
- Character colors/branding
- Line limits
- Internal spacing within VStack/HStack
- Any lock screen widget views (AccessoryCircular, AccessoryRectangular, AccessoryInline)

This is a minimal change - only the outer padding modifier on each view.
  </action>
  <verify>
Build the widget extension:
```bash
xcodebuild -scheme JokeOfTheDayWidgetExtension -destination 'platform=iOS Simulator,name=iPhone 16 Pro' build 2>&1 | tail -20
```
Confirm build succeeds with no errors.
  </verify>
  <done>
SmallWidgetView uses `.padding(8)`, MediumWidgetView and LargeWidgetView use `.padding(11)`, build succeeds.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify all home screen widgets on physical device</name>
  <what-built>Updated widget padding for all three home screen sizes (small, medium, large)</what-built>
  <how-to-verify>
1. Build and run on physical iPhone
2. Add all three widget sizes to home screen:
   - Long-press home screen -> tap + -> search "Mr. Funny" or "Joke of the Day"
   - Add Small widget, Medium widget, Large widget
3. For each widget, verify:
   - [ ] Character name visible at bottom
   - [ ] Character avatar visible
   - [ ] "JOKE OF THE DAY" badge visible with character color
   - [ ] Joke setup text is readable (not too small)
   - [ ] Spacing looks natural, similar to Weather or Calendar widgets
4. Switch to dark mode (Settings -> Display & Brightness -> Dark)
5. Verify all three widgets:
   - [ ] Background adapts (darker)
   - [ ] Text remains readable (good contrast)
   - [ ] Character colors still visible
6. Tap each widget to confirm it opens the app

**Expected result:** All widgets display joke content with appropriate spacing, character branding is visible, both light and dark modes look good.
  </how-to-verify>
  <resume-signal>Type "approved" if all widgets look good, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
- [ ] Build succeeds for widget extension
- [ ] All three widget sizes verified on physical device
- [ ] Dark mode verified on physical device
- [ ] Widget tap opens app
</verification>

<success_criteria>
1. Small widget displays joke with tighter padding, more text visible
2. Medium widget displays joke with appropriate padding
3. Large widget displays joke with appropriate padding
4. All widgets handle dark mode correctly
5. User confirms visual quality on physical device
</success_criteria>

<output>
After completion, create `.planning/phases/04-widget-polish/04-01-SUMMARY.md`
</output>
