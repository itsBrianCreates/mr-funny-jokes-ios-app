---
phase: 01-foundation-cleanup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - MrFunnyJokes/MrFunnyJokes/ViewModels/WeeklyRankingsViewModel.swift
  - MrFunnyJokes/MrFunnyJokes/Views/WeeklyTopTen/WeeklyTopTenCarouselView.swift
  - MrFunnyJokes/MrFunnyJokes/Views/WeeklyTopTen/WeeklyTopTenDetailView.swift
  - MrFunnyJokes/MrFunnyJokes/Views/JokeFeedView.swift
autonomous: true

must_haves:
  truths:
    - "User sees 'Monthly Top 10' header in home feed"
    - "User sees 'Monthly Top 10' in navigation title of detail view"
    - "Date range displays month format (e.g., 'Dec 1 - 31') not week format"
  artifacts:
    - path: "MrFunnyJokes/MrFunnyJokes/ViewModels/MonthlyRankingsViewModel.swift"
      provides: "Rankings data loading and formatting"
      contains: "class MonthlyRankingsViewModel"
    - path: "MrFunnyJokes/MrFunnyJokes/Views/MonthlyTopTen/MonthlyTopTenCarouselView.swift"
      provides: "Home feed rankings section"
      contains: "Monthly Top 10"
    - path: "MrFunnyJokes/MrFunnyJokes/Views/MonthlyTopTen/MonthlyTopTenDetailView.swift"
      provides: "Full rankings detail view"
      contains: "Monthly Top 10"
  key_links:
    - from: "JokeFeedView.swift"
      to: "MonthlyRankingsViewModel"
      via: "@StateObject private var rankingsViewModel"
      pattern: "MonthlyRankingsViewModel"
    - from: "JokeFeedView.swift"
      to: "MonthlyTopTenCarouselView"
      via: "View instantiation"
      pattern: "MonthlyTopTenCarouselView"
---

<objective>
Rename all Weekly rankings references to Monthly throughout the codebase.

Purpose: With low initial user base, monthly rankings will feel more populated than weekly. This is a UI labeling change - the backend collection name stays as `weekly_rankings` to avoid backend changes.
Output: All user-facing text says "Monthly", all code references renamed for consistency.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-cleanup/01-CONTEXT.md
@.planning/phases/01-foundation-cleanup/01-RESEARCH.md
@MrFunnyJokes/MrFunnyJokes/ViewModels/WeeklyRankingsViewModel.swift
@MrFunnyJokes/MrFunnyJokes/Views/WeeklyTopTen/WeeklyTopTenCarouselView.swift
@MrFunnyJokes/MrFunnyJokes/Views/WeeklyTopTen/WeeklyTopTenDetailView.swift
@MrFunnyJokes/MrFunnyJokes/Views/JokeFeedView.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename ViewModel and update date formatting</name>
  <files>MrFunnyJokes/MrFunnyJokes/ViewModels/WeeklyRankingsViewModel.swift</files>
  <action>
  Rename and update the ViewModel:

  1. Rename file: `WeeklyRankingsViewModel.swift` -> `MonthlyRankingsViewModel.swift`

  2. In the renamed file, update:
     - Class name: `WeeklyRankingsViewModel` -> `MonthlyRankingsViewModel`
     - Property: `weekDateRange` -> `monthDateRange`
     - Method comment: "Format the week date range" -> "Format the month date range"
     - Print statement: "Failed to load weekly rankings" -> "Failed to load monthly rankings"

  3. Update `formatDateRange` method comment to reference "month" instead of "week"

  Keep the Firestore fetch call as `fetchWeeklyRankings()` - the backend collection name stays unchanged.
  </action>
  <verify>File exists at new path and contains "class MonthlyRankingsViewModel"</verify>
  <done>ViewModel renamed to MonthlyRankingsViewModel with updated property names</done>
</task>

<task type="auto">
  <name>Task 2: Rename Views folder and update all Weekly -> Monthly text</name>
  <files>
    MrFunnyJokes/MrFunnyJokes/Views/WeeklyTopTen/WeeklyTopTenCarouselView.swift
    MrFunnyJokes/MrFunnyJokes/Views/WeeklyTopTen/WeeklyTopTenDetailView.swift
  </files>
  <action>
  Rename folder and files:

  1. Rename folder: `Views/WeeklyTopTen/` -> `Views/MonthlyTopTen/`

  2. Rename files within:
     - `WeeklyTopTenCarouselView.swift` -> `MonthlyTopTenCarouselView.swift`
     - `WeeklyTopTenDetailView.swift` -> `MonthlyTopTenDetailView.swift`
     - Keep `RankedJokeCard.swift` unchanged (no "Weekly" in name)

  3. In `MonthlyTopTenCarouselView.swift`:
     - Struct: `WeeklyTopTenCarouselView` -> `MonthlyTopTenCarouselView`
     - Comment: "Weekly Top 10" -> "Monthly Top 10"
     - Struct: `WeeklyTop10Header` -> `MonthlyTop10Header`
     - Text: `"Weekly Top 10"` -> `"Monthly Top 10"`
     - Comment: "A compact card for Hilarious or Horrible category" - keep as is
     - Struct: `WeeklyTopTenCard` -> `MonthlyTopTenCard`
     - Struct: `WeeklyTopTenCardSkeleton` -> `MonthlyTopTenCardSkeleton`
     - Update all preview references

  4. In `MonthlyTopTenDetailView.swift`:
     - Struct: `WeeklyTopTenDetailView` -> `MonthlyTopTenDetailView`
     - Comment: "Detail view showing the Weekly Top 10" -> "Detail view showing the Monthly Top 10"
     - Property: `weekDateRange` -> `monthDateRange` (in computed property)
     - Navigation title: `.navigationTitle("Weekly Top 10")` -> `.navigationTitle("Monthly Top 10")`
     - Empty state text: "Be one of the first to rate jokes this week!" -> "Be one of the first to rate jokes this month!"
     - Update preview names

  5. Update ViewModel type references:
     - `WeeklyRankingsViewModel` -> `MonthlyRankingsViewModel` wherever used
  </action>
  <verify>Files exist at new paths, grep for "Weekly" returns no results in these files</verify>
  <done>All view files renamed and updated with Monthly branding</done>
</task>

<task type="auto">
  <name>Task 3: Update JokeFeedView references</name>
  <files>MrFunnyJokes/MrFunnyJokes/Views/JokeFeedView.swift</files>
  <action>
  Update JokeFeedView to use renamed components:

  1. Change StateObject: `@StateObject private var rankingsViewModel = WeeklyRankingsViewModel()`
     -> `@StateObject private var rankingsViewModel = MonthlyRankingsViewModel()`

  2. Change property: `private var showWeeklyTopTen` -> `private var showMonthlyTopTen`

  3. Change comment: "Show Weekly Top 10 carousel" -> "Show Monthly Top 10 carousel"

  4. Update the conditional in body:
     - `if showWeeklyTopTen {` -> `if showMonthlyTopTen {`

  5. Change view instantiation: `WeeklyTopTenCarouselView(` -> `MonthlyTopTenCarouselView(`

  6. Change state property: `@State private var weeklyTopTenDestination` -> `@State private var monthlyTopTenDestination`

  7. Update navigationDestination:
     - `$weeklyTopTenDestination` -> `$monthlyTopTenDestination`
     - `WeeklyTopTenDetailView(` -> `MonthlyTopTenDetailView(`

  8. Update comment: "State for navigating to Weekly Top 10" -> "State for navigating to Monthly Top 10"
  </action>
  <verify>grep for "Weekly" or "weekly" in JokeFeedView.swift returns no results</verify>
  <done>JokeFeedView uses Monthly components and naming throughout</done>
</task>

</tasks>

<verification>
1. Project compiles without errors: `xcodebuild -project MrFunnyJokes.xcodeproj -scheme MrFunnyJokes build`
2. Search entire codebase for "Weekly" in Swift files (excluding FirestoreService and FirestoreModels which keep backend references):
   `grep -r "Weekly" --include="*.swift" . | grep -v FirestoreService | grep -v FirestoreModels | grep -v ".build/"`
   Should return empty (no UI-facing Weekly references)
3. App launches and shows "Monthly Top 10" header on home feed
</verification>

<success_criteria>
- All files renamed (ViewModel + 2 Views + folder)
- All struct/class names use "Monthly" not "Weekly"
- All user-facing text says "Monthly Top 10"
- App compiles and runs without errors
- Backend collection name (`weekly_rankings`) unchanged in FirestoreService
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-cleanup/01-02-SUMMARY.md`
</output>
