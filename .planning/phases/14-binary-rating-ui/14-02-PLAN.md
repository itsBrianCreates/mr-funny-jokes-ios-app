---
phase: 14-binary-rating-ui
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - MrFunnyJokes/MrFunnyJokes/Views/MeView.swift
  - MrFunnyJokes/MrFunnyJokes/ViewModels/JokeViewModel.swift
autonomous: true

must_haves:
  truths:
    - "Me tab shows only two rating sections: Hilarious (üòÇ) and Horrible (ü´†)"
    - "No Funny, Meh, or Groan-Worthy sections appear in the Me tab"
    - "Rated jokes still display correctly in their binary category"
    - "Swipe-to-delete (un-rate) still works on Me tab joke rows"
  artifacts:
    - path: "MrFunnyJokes/MrFunnyJokes/Views/MeView.swift"
      provides: "Binary-only Me tab with Hilarious and Horrible sections"
      contains: "filteredHilariousJokes"
    - path: "MrFunnyJokes/MrFunnyJokes/ViewModels/JokeViewModel.swift"
      provides: "Clean computed properties with no dead 5-point code"
  key_links:
    - from: "MrFunnyJokes/MrFunnyJokes/Views/MeView.swift"
      to: "MrFunnyJokes/MrFunnyJokes/ViewModels/JokeViewModel.swift"
      via: "viewModel.filteredHilariousJokes and viewModel.filteredHorribleJokes"
      pattern: "viewModel\\.filtered(Hilarious|Horrible)Jokes"
---

<objective>
Remove defunct 5-point rating sections from the Me tab and clean up dead computed properties from JokeViewModel.

Purpose: With binary ratings, the Funny (4), Meh (3), and Groan-Worthy (2) sections are permanently empty (Phase 13 migration removed all 2, 3, 4 ratings). Removing them eliminates dead UI and dead code, keeping the codebase clean.

Output: Me tab with only Hilarious and Horrible sections. JokeViewModel without funnyJokes, mehJokes, groanJokes computed properties.
</objective>

<execution_context>
@/Users/brianvanaski/.claude/get-shit-done/workflows/execute-plan.md
@/Users/brianvanaski/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-binary-rating-ui/14-RESEARCH.md

Key source files:
@MrFunnyJokes/MrFunnyJokes/Views/MeView.swift
@MrFunnyJokes/MrFunnyJokes/ViewModels/JokeViewModel.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove defunct Me tab sections and dead ViewModel properties</name>
  <files>
    MrFunnyJokes/MrFunnyJokes/Views/MeView.swift
    MrFunnyJokes/MrFunnyJokes/ViewModels/JokeViewModel.swift
  </files>
  <action>
**MeView.swift ‚Äî Remove 3 defunct sections from `ratedJokesList`:**

In the `ratedJokesList` computed property, remove the three middle section blocks:
1. Remove the "Funny (4)" section block (lines ~77-84): the `if !viewModel.filteredFunnyJokes.isEmpty` block with its `ratingSection(title: "Funny", emoji: "üòÑ", ...)`
2. Remove the "Meh (3)" section block (lines ~86-93): the `if !viewModel.filteredMehJokes.isEmpty` block with its `ratingSection(title: "Meh", emoji: "üòê", ...)`
3. Remove the "Groan-worthy (2)" section block (lines ~95-102): the `if !viewModel.filteredGroanJokes.isEmpty` block with its `ratingSection(title: "Groan-Worthy", emoji: "üò©", ...)`

Keep ONLY:
- The "Hilarious" section (`viewModel.filteredHilariousJokes`) ‚Äî already correct
- The "Horrible" section (`viewModel.filteredHorribleJokes`) ‚Äî already correct

The `ratingSection` helper function, `JokeRowView`, empty states, and all other MeView code stays unchanged.

**JokeViewModel.swift ‚Äî Remove 6 dead computed properties:**

Remove these computed properties entirely (they will never have results since ratings 2, 3, 4 no longer exist):

1. `var funnyJokes: [Joke]` (filters for userRating == 4)
2. `var mehJokes: [Joke]` (filters for userRating == 3)
3. `var groanJokes: [Joke]` (filters for userRating == 2)
4. `var filteredFunnyJokes: [Joke]` (filters funnyJokes by category)
5. `var filteredMehJokes: [Joke]` (filters mehJokes by category)
6. `var filteredGroanJokes: [Joke]` (filters groanJokes by category)

Keep these properties ‚Äî they are still actively used:
- `hilariousJokes` (userRating == 5) ‚Äî used by filteredHilariousJokes and Me tab
- `horribleJokes` (userRating == 1) ‚Äî used by filteredHorribleJokes and Me tab
- `ratedJokes` (userRating != nil) ‚Äî used by Me tab empty state
- `filteredRatedJokes` ‚Äî used by Me tab empty state
- `filteredHilariousJokes` ‚Äî used by Me tab Hilarious section
- `filteredHorribleJokes` ‚Äî used by Me tab Horrible section
- `sortByRatingTimestamp` private helper ‚Äî still used by the kept properties

Also keep the `// MARK: - Filtered Rated Jokes (for Me tab)` comment and the `// Jokes grouped by rating` comment (update the latter to say "binary rating" instead of "1-5 scale"):
Change `// Jokes grouped by rating (1-5 scale), sorted by most recently rated` to `// Jokes grouped by binary rating, sorted by most recently rated`
  </action>
  <verify>
Build the project: `xcodebuild -project MrFunnyJokes/MrFunnyJokes.xcodeproj -scheme MrFunnyJokes -destination 'platform=iOS Simulator,name=iPhone 16' build 2>&1 | tail -5`

Grep JokeViewModel.swift for "funnyJokes", "mehJokes", "groanJokes" ‚Äî should return zero matches (confirming all dead properties removed).

Grep MeView.swift for "Funny", "Meh", "Groan" ‚Äî should return zero matches (confirming all defunct sections removed).

Grep JokeViewModel.swift for "hilariousJokes", "horribleJokes" ‚Äî should return matches (confirming active properties kept).
  </verify>
  <done>Me tab shows only Hilarious and Horrible sections. JokeViewModel has no funnyJokes, mehJokes, or groanJokes properties. Project builds cleanly. No dead code remains.</done>
</task>

</tasks>

<verification>
1. Full project build succeeds with zero errors
2. MeView.swift contains only Hilarious and Horrible section blocks ‚Äî no Funny, Meh, or Groan-Worthy
3. JokeViewModel.swift has no funnyJokes, mehJokes, groanJokes or their filtered variants
4. JokeViewModel.swift still has hilariousJokes, horribleJokes, ratedJokes, filteredRatedJokes, filteredHilariousJokes, filteredHorribleJokes
5. The sortByRatingTimestamp helper is still present and used
</verification>

<success_criteria>
- Me tab displays exactly two sections: Hilarious (üòÇ) and Horrible (ü´†)
- No trace of Funny, Meh, or Groan-Worthy sections in MeView
- Dead computed properties removed from JokeViewModel
- Active rating properties (hilarious, horrible, rated) still work
- Project compiles cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/14-binary-rating-ui/14-02-SUMMARY.md`
</output>
